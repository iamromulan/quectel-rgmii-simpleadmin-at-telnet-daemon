(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1942],{42554:(e,t,a)=>{Promise.resolve().then(a.bind(a,75808))},75808:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var s=a(20475),r=a(20107),n=a(72167),o=a(574),c=a(42541),i=a(32857),d=a(29475),l=a(91994);let u={lte:"lte_band",nsa:"nsa_nr5g_band",sa:"nrdc_nr5g_band"},f={lte:"lte_band",nsa:"nsa_nr5g_band",sa:"nr5g_band"},p=()=>{let{toast:e}=(0,i.dj)(),[t,a]=(0,r.useState)({lte:[],nsa:[],sa:[]}),[p,h]=(0,r.useState)({lte:[],nsa:[],sa:[]}),[m,g]=(0,r.useState)(!0),b=async e=>{try{let t=encodeURIComponent(e),a=await fetch("/cgi-bin/at_command.sh?command=".concat(t),{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));let s=await a.json();if(s.error)throw Error(s.error);return s}catch(e){throw console.error("AT Command error:",e),e}},x=(e,t,a)=>{let s=e.split("\n"),r=a?u[t]:f[t];for(let e of s){let t='"'.concat(r,'"');if(e.includes(t)){let t=e.match(/\"[^\"]+\",(.+)/);if(t&&t[1])return t[1].trim().split(":").map(Number).filter(e=>!isNaN(e))}}return[]},v=async()=>{try{let e=await fetch("/cgi-bin/fetch_data.sh?set=7");if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json(),s=t[0].response,r={lte:x(s,"lte",!0),nsa:x(s,"nsa",!0),sa:x(s,"sa",!0)};a(r);let n=t[1].response,o={lte:x(n,"lte",!1),nsa:x(n,"nsa",!1),sa:x(n,"sa",!1)};h(o),g(!1)}catch(t){console.error("Error fetching bands:",t),e({title:"Error",description:"Failed to fetch bands data.",variant:"destructive"}),g(!1)}};(0,r.useEffect)(()=>{v()},[]);let N=(e,t)=>{h(a=>({...a,[e]:a[e].includes(t)?a[e].filter(e=>e!==t):[...a[e],t].sort((e,t)=>e-t)}))},w=async a=>{try{let s=p[a].join(":");if("nsa"===a){let e=p.sa.join(":");if(await b('AT+QNWPREFCFG="'.concat(f.nsa,'",').concat(s)),e)await b('AT+QNWPREFCFG="'.concat(f.sa,'",').concat(e));else{let e=t.sa.join(":");await b('AT+QNWPREFCFG="'.concat(f.sa,'",').concat(e))}h(a=>({...a,nsa:p.nsa,sa:e?p.sa:t.sa}))}else await b('AT+QNWPREFCFG="'.concat(f[a],'",').concat(s)),h(e=>({...e,[a]:p[a]}));e({title:"Band Locking",description:"Bands locked successfully."}),setTimeout(v,1e3)}catch(t){console.error("Error locking ".concat(a," bands:"),t),e({title:"Error",description:"Failed to lock ".concat(a.toUpperCase()," bands."),variant:"destructive"})}},y=e=>{h(t=>({...t,[e]:[]}))},T=async a=>{try{let s=t[a].join(":");if("nsa"===a){await b('AT+QNWPREFCFG="'.concat(f.nsa,'",').concat(s));let e=p.sa.join(":");e&&await b('AT+QNWPREFCFG="'.concat(f.sa,'",').concat(e))}else await b('AT+QNWPREFCFG="'.concat(f[a],'",').concat(s));e({title:"Reset Successful",description:"".concat(a.toUpperCase()," bands reset to default.")}),await v()}catch(t){console.error("Error resetting ".concat(a," bands:"),t),e({title:"Error",description:"Failed to reset ".concat(a.toUpperCase()," bands."),variant:"destructive"})}},j=e=>{let{title:a,description:r,bandType:i,prefix:u}=e;return(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{children:a}),(0,s.jsx)(n.BT,{children:r})]}),(0,s.jsx)(n.Wu,{className:"grid lg:grid-cols-8 md:grid-cols-6 sm:grid-cols-4 grid-cols-3 grid-flow-row gap-4",children:m?(0,s.jsx)("div",{className:"col-span-8",children:"Fetching bands..."}):t[i].map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.S,{id:"".concat(i,"-").concat(e),checked:p[i].includes(e),onCheckedChange:()=>N(i,e)}),(0,s.jsxs)("label",{htmlFor:"".concat(i,"-").concat(e),className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:[u,e]})]},e))}),(0,s.jsxs)(n.wL,{className:"border-t py-4 grid grid-flow-row md:grid-cols-3 grid-cols-1 gap-3",children:[(0,s.jsxs)(c.$,{onClick:()=>w(i),children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),"Lock Selected Bands"]}),(0,s.jsx)(c.$,{variant:"secondary",onClick:()=>y(i),children:"Uncheck All"}),(0,s.jsxs)(c.$,{variant:"secondary",onClick:()=>T(i),children:[(0,s.jsx)(l.A,{className:"h-4 w-4"}),"Reset to Default"]})]})]})};return(0,s.jsxs)("div",{className:"grid gap-6",children:[(0,s.jsx)(j,{title:"4G LTE Band Locking",description:"Lock the device to specific LTE bands.",bandType:"lte",prefix:"B"}),(0,s.jsx)(j,{title:"NR5G-NSA Band Locking",description:"Lock the device to specific NR5G-NSA bands.",bandType:"nsa",prefix:"N"}),(0,s.jsx)(j,{title:"NR5G-SA Band Locking",description:"Lock the device to specific NR5G-SA bands.",bandType:"sa",prefix:"N"})]})}},42541:(e,t,a)=>{"use strict";a.d(t,{$:()=>d,r:()=>i});var s=a(20475),r=a(20107),n=a(61837),o=a(29395),c=a(22250);let i=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:o,asChild:d=!1,...l}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,c.cn)(i({variant:r,size:o,className:a})),ref:t,...l})});d.displayName="Button"},72167:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>l,ZB:()=>i,Zp:()=>o,aR:()=>c,wL:()=>u});var s=a(20475),r=a(20107),n=a(22250);let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",a),...r})});o.displayName="Card";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});c.displayName="CardHeader";let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",a),...r})});i.displayName="CardTitle";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})});d.displayName="CardDescription";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});l.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})});u.displayName="CardFooter"},574:(e,t,a)=>{"use strict";a.d(t,{S:()=>i});var s=a(20475),r=a(20107),n=a(32044),o=a(7197),c=a(22250);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,c.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,s.jsx)(n.C1,{className:(0,c.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(o.Srz,{className:"h-4 w-4"})})})});i.displayName=n.bL.displayName},32857:(e,t,a)=>{"use strict";a.d(t,{dj:()=>f,oR:()=>u});var s=a(20107);let r=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},c=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?o(a):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],d={toasts:[]};function l(e){d=c(d,e),i.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:a});return l({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=s.useState(d);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},22250:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(64901),r=a(868);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[9980,7780,5315,191,6035,7358],()=>t(42554)),_N_E=e.O()}]);